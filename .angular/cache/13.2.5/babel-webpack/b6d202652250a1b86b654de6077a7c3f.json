{"ast":null,"code":"import _asyncToGenerator from \"/Users/dominic.retli/Documents/github-projects/student-discipline/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TestBed } from '@angular/core/testing';\nimport { StudentDisciplineComponent } from './student-discipline.component';\nimport { BrowserModule, By } from \"@angular/platform-browser\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { StudentDisciplineService } from \"../student-discipline.service\";\nimport { of } from \"rxjs\";\ndescribe('DetentionReportComponentComponent', () => {\n  let component;\n  let fixture;\n  const student1 = {\n    firstName: 'bob',\n    lastName: 'ross',\n    id: '111',\n    parentPhoneNumber: '555-5555',\n    priorViolations: 0\n  };\n  const student2 = {\n    firstName: 'cindy',\n    lastName: 'waters',\n    id: '222',\n    parentPhoneNumber: '555-5555',\n    priorViolations: 1\n  };\n  const studentDisciplineServiceSpy = jasmine.createSpyObj('StudentDisciplineService', ['getStudents', 'getPunishments']);\n  studentDisciplineServiceSpy.getStudents.and.returnValue(of([student1, student2]));\n  studentDisciplineServiceSpy.getPunishments.and.returnValue(of(['No Recess', 'Punishment 2']));\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    yield TestBed.configureTestingModule({\n      imports: [BrowserModule, FormsModule, ReactiveFormsModule],\n      providers: [{\n        provide: StudentDisciplineService,\n        useValue: studentDisciplineServiceSpy\n      }],\n      declarations: [StudentDisciplineComponent]\n    }).compileComponents();\n  }));\n  beforeEach(() => {\n    fixture = TestBed.createComponent(StudentDisciplineComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n  it('should setup initial form with correct form controls', () => {\n    const expectedFormValue = {\n      student: '',\n      violation: '',\n      punishment: ''\n    };\n    expect(component.form.value).toEqual(expectedFormValue);\n  });\n  describe('ngOnInit', () => {\n    it('should call getStudents from the StudentDisciplineService and set the response to the components students array property', () => {\n      const expectedStudents = [student1, student2];\n      expect(component.students).toEqual(expectedStudents);\n      expect(studentDisciplineServiceSpy.getStudents).toHaveBeenCalled();\n    });\n    it('should call getPunishments from the StudentDisciplineService and set the response to the components punishments array', () => {\n      const expectedPunishments = ['No Recess', 'Punishment 2'];\n      expect(component.punishments).toEqual(expectedPunishments);\n      expect(studentDisciplineServiceSpy.getPunishments).toHaveBeenCalled();\n    });\n  });\n  it('should display student select element', () => {\n    const studentSelect = fixture.debugElement.query(By.css('#student'));\n    expect(studentSelect).toBeTruthy();\n  });\n  it('should display violation input element', () => {\n    const violationInput = fixture.debugElement.query(By.css('#violation'));\n    expect(violationInput).toBeTruthy();\n  });\n  it('should display selected punishment dropdown selection element', () => {\n    const punishmentDropdownSelection = fixture.debugElement.query(By.css('#punishment'));\n    expect(punishmentDropdownSelection).toBeTruthy();\n  });\n  it('should display option for each student in the student dropdown', () => {\n    component.students = [student1, student2];\n    const studentSelect = fixture.debugElement.query(By.css('#student'));\n    const options = studentSelect.queryAll(By.css('option'));\n    expect(options.length).toEqual(2);\n    const expectedText1 = student1.firstName + ' ' + student1.lastName;\n    expect(options[0].nativeElement.textContent).toEqual(expectedText1);\n  });\n  it('should display option for each punishment in the punishment dropdown', () => {\n    const punishment1 = 'punishment1';\n    const punishment2 = 'punishment2';\n    const punishment3 = 'punishment3';\n    component.punishments = [punishment1, punishment2, punishment3];\n    fixture.detectChanges();\n    const punishmentSelect = fixture.debugElement.query(By.css('#punishment'));\n    const options = punishmentSelect.queryAll(By.css('option'));\n    expect(options.length).toEqual(3);\n    const expectedPunishment1 = punishment1;\n    const expectedPunishment2 = punishment2;\n    const expectedPunishment3 = punishment3;\n    expect(options[0].nativeElement.textContent).toEqual(expectedPunishment1);\n    expect(options[1].nativeElement.textContent).toEqual(expectedPunishment2);\n    expect(options[2].nativeElement.textContent).toEqual(expectedPunishment3);\n  });\n});","map":{"version":3,"sources":["/Users/dominic.retli/Documents/github-projects/student-discipline/src/app/student-discipline-component/student-discipline.component.spec.ts"],"names":["TestBed","StudentDisciplineComponent","BrowserModule","By","FormsModule","ReactiveFormsModule","StudentDisciplineService","of","describe","component","fixture","student1","firstName","lastName","id","parentPhoneNumber","priorViolations","student2","studentDisciplineServiceSpy","jasmine","createSpyObj","getStudents","and","returnValue","getPunishments","beforeEach","configureTestingModule","imports","providers","provide","useValue","declarations","compileComponents","createComponent","componentInstance","detectChanges","it","expect","toBeTruthy","expectedFormValue","student","violation","punishment","form","value","toEqual","expectedStudents","students","toHaveBeenCalled","expectedPunishments","punishments","studentSelect","debugElement","query","css","violationInput","punishmentDropdownSelection","options","queryAll","length","expectedText1","nativeElement","textContent","punishment1","punishment2","punishment3","punishmentSelect","expectedPunishment1","expectedPunishment2","expectedPunishment3"],"mappings":"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","sourcesContent":["import { TestBed } from '@angular/core/testing';\nimport { StudentDisciplineComponent } from './student-discipline.component';\nimport { BrowserModule, By } from \"@angular/platform-browser\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { StudentDisciplineService } from \"../student-discipline.service\";\nimport { of } from \"rxjs\";\ndescribe('DetentionReportComponentComponent', () => {\n    let component;\n    let fixture;\n    const student1 = {\n        firstName: 'bob',\n        lastName: 'ross',\n        id: '111',\n        parentPhoneNumber: '555-5555',\n        priorViolations: 0\n    };\n    const student2 = {\n        firstName: 'cindy',\n        lastName: 'waters',\n        id: '222',\n        parentPhoneNumber: '555-5555',\n        priorViolations: 1\n    };\n    const studentDisciplineServiceSpy = jasmine.createSpyObj('StudentDisciplineService', ['getStudents', 'getPunishments']);\n    studentDisciplineServiceSpy.getStudents.and.returnValue(of([student1, student2]));\n    studentDisciplineServiceSpy.getPunishments.and.returnValue(of(['No Recess', 'Punishment 2']));\n    beforeEach(async () => {\n        await TestBed.configureTestingModule({\n            imports: [BrowserModule, FormsModule, ReactiveFormsModule],\n            providers: [\n                { provide: StudentDisciplineService, useValue: studentDisciplineServiceSpy }\n            ],\n            declarations: [StudentDisciplineComponent]\n        })\n            .compileComponents();\n    });\n    beforeEach(() => {\n        fixture = TestBed.createComponent(StudentDisciplineComponent);\n        component = fixture.componentInstance;\n        fixture.detectChanges();\n    });\n    it('should create', () => {\n        expect(component).toBeTruthy();\n    });\n    it('should setup initial form with correct form controls', () => {\n        const expectedFormValue = {\n            student: '',\n            violation: '',\n            punishment: ''\n        };\n        expect(component.form.value).toEqual(expectedFormValue);\n    });\n    describe('ngOnInit', () => {\n        it('should call getStudents from the StudentDisciplineService and set the response to the components students array property', () => {\n            const expectedStudents = [student1, student2];\n            expect(component.students).toEqual(expectedStudents);\n            expect(studentDisciplineServiceSpy.getStudents).toHaveBeenCalled();\n        });\n        it('should call getPunishments from the StudentDisciplineService and set the response to the components punishments array', () => {\n            const expectedPunishments = ['No Recess', 'Punishment 2'];\n            expect(component.punishments).toEqual(expectedPunishments);\n            expect(studentDisciplineServiceSpy.getPunishments).toHaveBeenCalled();\n        });\n    });\n    it('should display student select element', () => {\n        const studentSelect = fixture.debugElement.query(By.css('#student'));\n        expect(studentSelect).toBeTruthy();\n    });\n    it('should display violation input element', () => {\n        const violationInput = fixture.debugElement.query(By.css('#violation'));\n        expect(violationInput).toBeTruthy();\n    });\n    it('should display selected punishment dropdown selection element', () => {\n        const punishmentDropdownSelection = fixture.debugElement.query(By.css('#punishment'));\n        expect(punishmentDropdownSelection).toBeTruthy();\n    });\n    it('should display option for each student in the student dropdown', () => {\n        component.students = [student1, student2];\n        const studentSelect = fixture.debugElement.query(By.css('#student'));\n        const options = studentSelect.queryAll(By.css('option'));\n        expect(options.length).toEqual(2);\n        const expectedText1 = student1.firstName + ' ' + student1.lastName;\n        expect(options[0].nativeElement.textContent).toEqual(expectedText1);\n    });\n    it('should display option for each punishment in the punishment dropdown', () => {\n        const punishment1 = 'punishment1';\n        const punishment2 = 'punishment2';\n        const punishment3 = 'punishment3';\n        component.punishments = [punishment1, punishment2, punishment3];\n        fixture.detectChanges();\n        const punishmentSelect = fixture.debugElement.query(By.css('#punishment'));\n        const options = punishmentSelect.queryAll(By.css('option'));\n        expect(options.length).toEqual(3);\n        const expectedPunishment1 = punishment1;\n        const expectedPunishment2 = punishment2;\n        const expectedPunishment3 = punishment3;\n        expect(options[0].nativeElement.textContent).toEqual(expectedPunishment1);\n        expect(options[1].nativeElement.textContent).toEqual(expectedPunishment2);\n        expect(options[2].nativeElement.textContent).toEqual(expectedPunishment3);\n    });\n});\n"]},"metadata":{},"sourceType":"module"}